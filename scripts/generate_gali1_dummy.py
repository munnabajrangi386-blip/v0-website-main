import csv
import random
from datetime import date, timedelta

VALUES = [
  35, 51, 65, 49, 24, 9, 18, 73, 32, 27, 60, 58, 52, 54, 90, 93, 68, 15, 75, 74, 6, 3, 23, 57, 11, 84, 20, 14, 71, 16, 86, 66, 38, 40, 47, 8, 87, 26, 81, 59, 88, 89, 91, 94, 43, 53, 70, 63, 31, 77, 21, 10, 41, 45, 78, 33, 5, 13, 39, 95, 34, 17, 85, 48, 56, 79, 83, 46, 61, 80, 25, 44, 37, 12, 19, 42, 0, 2, 99, 67, 30, 62, 4, 29, 64, 7, 50, 82, 22, 55, 98, 84, 68, 5, 1, 53, 60, 94, 43, 52, 56, 90, 73, 18, 99, 40, 48, 61, 8, 33, 46, 38, 66, 28, 57, 63, 23, 86, 45, 25, 67, 62, 21, 22, 95, 9, 93, 15, 10, 13, 41, 47, 24, 42, 14, 70, 0, 17, 50, 6, 64, 80, 37, 35, 71, 88, 97, 92, 19, 44, 2, 39, 85, 30, 51, 72, 55, 20, 76, 49, 34, 96, 4, 26, 31, 79, 87, 11, 16, 59, 75, 78, 27, 7, 98, 32, 58, 91, 3, 83, 54, 65, 81, 74, 36, 84, 24, 89, 52, 46, 94, 73, 79, 59, 22, 91, 61, 20, 43, 29, 53, 82, 0, 47, 69, 87, 11, 37, 2, 5, 84, 27, 60, 9, 48, 40, 18, 76, 16, 41, 17, 19, 64, 10, 58, 23, 44, 97, 4, 78, 13, 36, 45, 49, 81, 15, 88, 85, 25, 50, 38, 6, 95, 21, 31, 63, 65, 62, 12, 57, 28, 42, 30, 93, 35, 8, 67, 55, 75, 14, 34, 32, 66, 33, 3, 80, 92, 90, 72, 1, 26, 7, 39, 54, 56, 77, 89, 70, 68, 86, 83, 99, 9, 96, 63, 61, 0, 11, 17, 12, 36, 33, 75, 22, 74, 54, 37, 7, 10, 20, 55, 44, 8, 25, 53, 95, 27, 97, 73, 23, 6, 70, 45, 34, 1, 14, 41, 13, 64, 3, 59, 24, 76
]

START = date(2015, 1, 1)
END = date.today()


def iter_dates(start: date, end: date):
    d = start
    one = timedelta(days=1)
    while d <= end:
        yield d
        d += one


def value_stream():
    pool = VALUES[:]
    random.shuffle(pool)
    idx = 0
    while True:
        if idx >= len(pool):
            random.shuffle(pool)
            idx = 0
        v = pool[idx]
        idx += 1
        yield f"{v:02d}"


def main():
    out_path = 'dummy_gali1_2015_to_today.csv'
    g = value_stream()
    with open(out_path, 'w', newline='') as f:
        w = csv.writer(f)
        w.writerow(['date', 'Gali1'])
        for d in iter_dates(START, END):
            w.writerow([d.isoformat(), next(g)])
    print(f"Wrote {out_path}")


if __name__ == '__main__':
    main()
